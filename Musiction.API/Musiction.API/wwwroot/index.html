<html>

<head>
    <meta charset="utf-8" />
    <link rel="stylesheet" type="text/css" href="css/mystyle.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Stwórz prezentacje - WawrzynSlajd</title>
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <style>
        #sortable1, #sortable2 {
            border: 1px solid #eee;
            width: 300px;
            min-height: 20px;
            list-style-type: none;
            margin: 0;
            padding: 5px 0 0 0;
            float: left;
            margin-right: 10px;
        }

            #sortable1 li, #sortable2 li {
                margin: 0 5px 5px 5px;
                padding: 5px;
                font-size: 1.2em;
                width: 280px;
            }
    </style>
    <script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script type="text/javascript" src="js/domain.js"></script>
    <script type="text/javascript" src="js/songs.js"></script>
    <script type="text/javascript" src="js/presentations.js"></script>
    <script type="text/javascript" src="js/auth.js"></script>
    <script>
        $(function () {
            $("#sortable1, #sortable2").sortable({
                connectWith: ".connectedSortable"
            }).disableSelection();
        });

        function getSongIds() {
            var songsIds = "";
            $('#sortable2 li').each(function () {
                songsIds += "ids=" + $(this).val() + "&";
            });
            songsIds = songsIds.slice(0, -1);
            return songsIds;
        };

        $(document).ready(function () {
            getAllSongs('#sortable1', AddOptionsToListBox);


            $('#saveInPPTX').click(function () {
                var songsIds = getSongIds();
                createPresentation("pptx?", songsIds, sendAlert);
            });

            $('#saveInZIP').click(function () {
                var songsIds = getSongIds();
                createPresentation("zip?", songsIds, sendAlert);
            });
        });


        function sendAlert(data) {
            $('#textarea').val(data.inforamtion);
            window.location.href = data.path;
        }
    </script>
</head>

<body>

    <div class="approveTermsContainer">
        <div class="newItems">
            <b>Wybierz piosenkę:</b>
            <br />
            <ul id="sortable1" class="connectedSortable"></ul>
        </div>
        <div class="transferBtns">
            <center>
                <div class="submitContainer">
                    <input type="submit" id="saveInPPTX" value='Pobierz prezentacje w postaci pptx' />
                    <br />
                    <input type="submit" id="saveInZIP" value='Pobierz prezentacje w postaci zip' />
                </div>
            </center>
        </div>
        <div class="approvedItems">
            <b>Wybrane piosenki: </b>
            <br />
            <ul id="sortable2" class="connectedSortable"></ul>
        </div>

    </div>
    <br />

    <center>
        <textarea id="textarea" rows="15" cols="80"></textarea>
    </center>
    <br />




    <br />
    <br />
    <a href="login.html">Zaloguj się</a><br />
    <a href="index.html">Stwórz prezentację</a><br />
    <a href="addSong.html">Dodaj piosenkę</a><br />
    <a href="deleteSong.html">Usuń piosenkę</a><br />
    <a href="updateSong.html">Uaktualnij piosenkę</a><br />
</body>

</html>