<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>Dodaj piosenkę</title>
    <script type="text/javascript" src="https://code.jquery.com/jquery-2.2.4.min.js"></script>\
	<script type="text/javascript" src="Domain.js"></script>
    <script>
		var link = GetDomain();
        $(document).ready(function () {
            $('#saveSong').click(function () {
                var formData = new FormData();
                formData.append("Name", $('#name').val());
                formData.append("YouTubeUrl", $('#youtube').val());
                formData.append('PptxFile', $('#myfile')[0].files[0]); // myFile is the input type="file" control

                var _url = link + 'api/songs/';

                $.ajax({
                    url: _url,
                    type: 'POST',
                    data: formData,
                    processData: false,  // tell jQuery not to process the data
                    contentType: false,  // tell jQuery not to set contentType
                    success: function (result) {
                    },
                    error: function (jqXHR) {
                    },
                    complete: function (jqXHR, status) {
                        alert("dodano piosnkę");
						reset($('#name'))
						reset($('#youtube'))
						reset($('#myfile'))
                    }
                });
            });
        });
		
		window.reset = function (e) {
		e.wrap('<form>').closest('form').get(0).reset();
		e.unwrap();
}
    </script>
</head>

<body>
    <div>
		<form>
			Name:
			<input id="name" />
			<br /> Prezentacja:
			<input type="file" name="files" id="myfile" />
			<br/> YouTube:
			<input id="youtube" />
		</form>
    </div>
    <div>
        <input type="submit" id="saveSong" value='Zapisz piosenkę' />
    </div>
	</br>
	</br>
	<a href="index.html">Stwórz prezentację</a> </br>
	<a href="addSong.html">Dodaj piosenkę</a></br>
	<a href="deleteSong.html">Usuń piosenkę</a></br>
	<a href="updateSong.html">Uaktualnij piosenkę</a></br>
</body>

</html>